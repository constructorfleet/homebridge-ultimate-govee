{
  "pluginAlias": "Govee Ultimate",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "username": {
        "type": "string",
        "title": "Govee Account E-Email Address",
        "required": true
      },
      "password": {
        "type": "string",
        "title": "Govee Account Password",
        "required": true
      },
      "devices": {
        "title": "Device Overrides",
        "description": "Optional settings for your Govee devices.",
        "type": "object",
        "properties": {
          "airPurifiers": {
            "condition": {
              "functionBody": "return (model.airPurifiers && model.airPurifiers[arrayIndices] && model.airPurifiers[arrayIndices].deviceId && model.airPurifiers[arrayIndices].model);"
            },
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "deviceId": {
                  "title": "Govee Device ID",
                  "type": "string",
                  "readonly": true
                },
                "model": {
                  "title": "Model",
                  "type": "string",
                  "readonly": true
                },
                "ignore": {
                  "title": "Ignore Device",
                  "type": "boolean"
                },
                "displayName": {
                  "title": "Display Name",
                  "type": "string"
                }
              }
            }
          },
          "humidifiers": {
            "condition": {
              "functionBody": "return (model.humidifiers && model.humidifiers[arrayIndices] && model.humidifiers[arrayIndices].deviceId && model.humidifiers[arrayIndices].model);"
            },
            "title": "Humidifier Overrides",
            "type": "array",
            "minItems": 0,
            "items": {
              "properties": {
                "deviceId": {
                  "title": "Govee Device ID",
                  "type": "string",
                  "readonly": true
                },
                "model": {
                  "title": "Govee Device Model",
                  "type": "string",
                  "readonly": true
                },
                "ignore": {
                  "title": "Ignore Device",
                  "type": "boolean"
                },
                "displayName": {
                  "title": "Display Name",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "layout": [
    {
      "type": "flex",
      "flex-flow": "row wrap",
      "items": [
        "username",
        "password"
      ]
    },
    {
      "type": "section",
      "items": [
        {
          "type": "section",
          "title": "Air Purifiers",
          "expandable": true,
          "expanded": true,
          "items": [
            {
              "type": "array",
              "key": "devices.airPurifiers",
              "notitle": true,
              "items": [
                {
                  "type": "div",
                  "displayFlex": true,
                  "flex-direction": "column",
                  "items": [
                    {
                      "type": "div",
                      "displayFlex": true,
                      "flex-direction": "row",
                      "items": [
                        {
                          "key": "devices.airPurifiers[].deviceId",
                          "flex": "4 4 80%"
                        },
                        {
                          "key": "devices.airPurifiers[].model",
                          "flex": "1 1 20%"
                        }
                      ]
                    },
                    {
                      "type": "div",
                      "displayFlex": "true",
                      "flex-direction": "row",
                      "items": [
                        {
                          "key": "devices.airPurifiers[].ignore",
                          "flex": "1 1 20%"
                        },
                        {
                          "key": "devices.airPurifiers[].displayName",
                          "flex": "4 4 80%"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "section",
          "title": "Humidifiers",
          "expandable": true,
          "expanded": true,
          "items": [
            {
              "type": "array",
              "key": "devices.humidifiers",
              "notitle": true,
              "items": [
                {
                  "type": "div",
                  "displayFlex": true,
                  "flex-direction": "column",
                  "items": [
                    {
                      "type": "div",
                      "displayFlex": true,
                      "flex-direction": "row",
                      "items": [
                        {
                          "key": "devices.humidifiers[].deviceId",
                          "flex": "4 4 80%"
                        },
                        {
                          "key": "devices.humidifiers[].model",
                          "flex": "1 1 20%"
                        }
                      ]
                    },
                    {
                      "type": "div",
                      "displayFlex": "true",
                      "flex-direction": "row",
                      "items": [
                        {
                          "key": "devices.humidifiers[].ignore",
                          "flex": "1 1 20%"
                        },
                        {
                          "key": "devices.humidifiers[].displayName",
                          "flex": "4 4 80%"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}